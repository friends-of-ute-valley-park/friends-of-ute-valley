---
import Layout from "@layouts/Layout.astro";

import { Picture } from "astro:assets";
import heroImage from "../assets/images/ute-valley-park-biker.jpg";
import DogImage from "../assets/images/dog.jpg";
import uteValleyParkMap from "../assets/images/maps/ute-valley-park-map-full.jpg";

import LeaveNoTrace from "@components/LeaveNoTrace.astro";
const activities = [
  {
    name: "Hiking",
    description:
      "Explore the serene nature within a bustling city. Hike your way through forest and meadow while taking in the fresh air.",
  },
  {
    name: "Mountain Biking",
    description:
      "Ute Valley Park offers a variety of tails suitable to mountain bikers as well as the designated downhill area for the adventurous.",
  },
  {
    name: "Running",
    description:
      "Numerous trails from wide and flat to steep rocky offer joggers and trail runners the perfect opportunity to get outside.",
  },
  {
    name: "Bouldering",
    description:
      "Located in the Southwest corner of the park, near Piñon Park Dr., you can explore the variety of climbing challenges.",
  },
];

import { getCollection } from "astro:content";
const trailheads = await getCollection("trailheads");
const sortedTrailheads = trailheads.sort((a, b) => a.data.id - b.data.id);
---

<Layout title="Visit">
  <main class="bg-stone-50 text-stone-900">
    <!-- Technical Hero Section -->
    <section class="relative border-b border-stone-300 overflow-hidden">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-0">
        <!-- Identity Column -->
        <div
          class="lg:col-span-7 pt-12 pb-20 lg:pt-32 lg:pb-40 px-4 sm:px-6 lg:px-12 border-r border-stone-300"
        >
          <div class="space-y-8">
            <div class="flex items-center gap-4">
              <span class="inline-block h-px w-12 bg-primary-dark"></span>
              <span
                class="font-mono text-[10px] font-black tracking-[0.2em] uppercase text-stone-500"
              >
                Getting Here
              </span>
            </div>

            <h1
              class="text-6xl sm:text-9xl font-serif font-black tracking-tighter leading-[0.85] text-stone-900 uppercase"
            >
              Visit Ute<br /> Valley <br />
              <span class="text-primary-dark">Park.</span>
            </h1>

            <p
              class="max-w-xl text-xl font-medium leading-relaxed text-stone-700"
            >
              Ute Valley Park is nestled between Centennial Blvd, Vindicator Dr
              and I-25 in Colorado Springs. Access is provided via five primary
              parking areas.
            </p>

            <div class="pt-8 flex flex-wrap gap-12">
              <div>
                <p
                  class="font-mono text-[10px] uppercase tracking-widest text-stone-500 mb-1"
                >
                  Park Coordinates
                </p>
                <p class="font-mono text-sm font-black uppercase">
                  38.9189° N, 104.8558° W
                </p>
              </div>
              <div>
                <p
                  class="font-mono text-[10px] uppercase tracking-widest text-stone-500 mb-1"
                >
                  Elevation
                </p>
                <p class="font-mono text-sm font-black uppercase">
                  6,400' - 6,800'
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Visual Context Column -->
        <div
          class="lg:col-span-5 bg-stone-100/50 p-0 relative group overflow-hidden"
        >
          <Picture
            src={heroImage}
            formats={["avif", "webp"]}
            alt="Biker in Ute Valley"
            width="1200"
            height="1200"
            class="h-full w-full object-cover transition-all duration-1000 scale-105 group-hover:scale-100"
          />
          <div
            class="absolute inset-0 border-[24px] border-white/20 pointer-events-none"
          >
          </div>
        </div>
      </div>
    </section>

    <!-- Map & Entry Points -->
    <section class="border-b border-stone-300">
      <div class="mx-auto max-w-(--breakpoint-2xl) px-0 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-0">
          <!-- Trailheads -->
          <div
            class="lg:col-span-5 py-16 lg:py-24 px-4 sm:px-6 lg:pr-12 border-r border-stone-300"
          >
            <div class="mb-12">
              <h2
                class="text-3xl font-serif font-black uppercase tracking-tight text-stone-900 mb-4"
              >
                Where to <span class="text-primary-dark italic">Park.</span>
              </h2>
              <p class="text-sm text-stone-600 font-medium leading-relaxed">
                Find your trailhead and get directions.
              </p>
            </div>

            <div class="divide-y divide-stone-200 border-t border-stone-200">
              {
                sortedTrailheads.map((trailhead) => (
                  <a
                    href={`/trailheads/${trailhead.id}/`}
                    class="group py-6 flex justify-between items-center hover:bg-white transition-colors"
                  >
                    <div class="space-y-1">
                      <div class="flex items-center gap-3">
                        <span class="font-mono text-xs font-black text-accent-dark">
                          [{trailhead.data.id.toString().padStart(2, "0")}]
                        </span>
                        <h3 class="text-lg font-bold font-serif uppercase tracking-tight text-stone-900 group-hover:text-primary-dark transition-colors underline decoration-primary-dark decoration-4 underline-offset-2">
                          {trailhead.data.name}
                        </h3>
                      </div>
                      <p class="text-xs text-stone-500 max-w-sm pl-8 font-medium">
                        {trailhead.data.description}
                      </p>
                    </div>
                    <span class="text-accent-dark group-hover:text-accent-light transition-colors">
                      →
                    </span>
                  </a>
                ))
              }
            </div>
          </div>

          <!-- Cartographic Context -->
          <div class="lg:col-span-7 bg-stone-50 p-8 lg:p-12">
            <div class="sticky top-24 space-y-8">
              <div
                class="border border-stone-300 bg-white p-4 shadow-sm relative group"
              >
                <a
                  href="/images/maps/ute-valley-park-map-full.jpg"
                  target="_blank"
                >
                  <Picture
                    src={uteValleyParkMap}
                    formats={["avif", "webp"]}
                    alt="Map of Ute Valley Park"
                    width="1200"
                    height="900"
                    class="w-full h-auto transition-all duration-700"
                  />
                  <div
                    class="mt-4 pt-4 border-t border-stone-100 flex justify-between items-center"
                  >
                    <span
                      class="font-mono text-[10px] uppercase tracking-widest text-stone-500"
                      >Trail Map</span
                    >
                    <span
                      class="font-mono text-[10px] uppercase tracking-widest text-primary-dark font-black"
                      >View Fullsize PDF</span
                    >
                  </div>
                </a>
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div class="p-6 border border-stone-200 bg-stone-100/50">
                  <p
                    class="font-mono text-[10px] uppercase tracking-widest text-stone-500 mb-2"
                  >
                    Park Hours
                  </p>
                  <p
                    class="font-mono text-sm font-black text-stone-900 uppercase"
                  >
                    5:00 AM — 9:00 PM Winter
                  </p>
                  <p
                    class="font-mono text-sm font-black text-stone-900 uppercase"
                  >
                    5:00 AM — 10:00 PM Summer
                  </p>
                </div>
                <div class="p-6 border border-stone-200 bg-stone-100/50">
                  <p
                    class="font-mono text-[10px] uppercase tracking-widest text-stone-500 mb-2"
                  >
                    Entry Fee
                  </p>
                  <p
                    class="font-mono text-sm font-black text-stone-900 uppercase"
                  >
                    NO CHARGE
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Park Rules -->
    <section
      class="py-24 border-b border-stone-300 bg-stone-900 text-white relative overflow-hidden"
    >
      <!-- Background technical markers -->
      <div
        class="absolute top-0 right-0 w-1/3 h-full border-l border-white/5 pointer-events-none hidden lg:block"
      >
      </div>

      <div
        class="mx-auto max-w-(--breakpoint-2xl) px-4 sm:px-6 lg:px-8 relative z-10"
      >
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-16 items-center">
          <div class="lg:col-span-5 space-y-8">
            <div class="flex items-center gap-4">
              <span class="inline-block h-px w-12 bg-accent"></span>
              <span
                class="font-mono text-[10px] font-black tracking-[0.2em] uppercase text-stone-500"
              >
                Rules & Etiquette
              </span>
            </div>
            <h2
              class="text-4xl sm:text-6xl font-serif font-black uppercase tracking-tight leading-none"
            >
              Park <br />
              <span class="text-accent italic">Rules.</span>
            </h2>
            <p class="text-lg text-stone-500 font-medium leading-relaxed">
              To maintain the ecological integrity of this urban wildland, all
              visitors must adhere to municipal park codes and stewardship
              guidelines.
            </p>
            <a
              href="/rules/"
              class="inline-block px-8 py-4 border-2 border-accent text-accent font-mono text-sm font-black uppercase tracking-widest hover:bg-accent hover:text-stone-900 transition-all"
            >
              Review Full Rules
            </a>
          </div>

          <div class="lg:col-span-7">
            <div
              class="aspect-16/9 bg-stone-800 border border-white/10 relative group overflow-hidden"
            >
              <Picture
                src={DogImage}
                formats={["avif", "webp"]}
                alt="Dog in park"
                width="800"
                height="450"
                class="w-full h-full object-cover opacity-50 group-hover:opacity-100 transition-all duration-1000"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Our Trails -->
    <section class="py-24 border-b border-stone-300">
      <div class="mx-auto max-w-(--breakpoint-2xl) px-4 sm:px-6 lg:px-8">
        <div class="mb-16">
          <h2
            class="text-4xl sm:text-6xl font-serif font-black uppercase tracking-tight text-stone-900 mb-6"
          >
            Our <span class="text-primary-dark italic">Trails.</span>
          </h2>
          <p class="max-w-2xl text-lg text-stone-600 font-medium">
            Ute Valley Park offers trails for every skill level, from easy
            strolls to technical challenges.
          </p>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-px bg-stone-300 border border-stone-300"
        >
          {
            [
              {
                name: "BeaUTEiful Loop",
                desc: "Ridge top views of Pikes Peak, Black Forest and Rockrimmon as well as meandering through dense forest and rocky outcrops.",
              },
              {
                name: "Rattlesnake Ridge",
                desc: "Breathtaking views on a razor ridge. Extremely technical, sharp, rocky trail. recommended for experienced hikers and bikers only.",
              },
              {
                name: "High Arches loop",
                desc: "Quick loop near Vindicator Parking Lot. Winding valley of an old ranch leading to a natural sandstone arch.",
              },
              {
                name: "Black and Blue Loop",
                desc: "Challenging terrain featuring sharp rock gardens, steep grades, and a massive bridge, mine tailings, and a cave! Very technical.",
              },
            ].map((trail, i) => (
              <div class="bg-white p-8 space-y-6 flex flex-col justify-between hover:bg-stone-50 transition-colors group">
                <div class="space-y-4">
                  <span class="font-mono text-xs font-black text-stone-300 group-hover:text-primary-dark transition-colors">
                    Trail {String(i + 1).padStart(2, "0")}
                  </span>
                  <h3 class="text-xl font-bold font-serif uppercase tracking-tight text-stone-900">
                    {trail.name}
                  </h3>
                  <p class="text-sm leading-relaxed text-stone-600 font-medium">
                    {trail.desc}
                  </p>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <div class="bg-stone-50">
      <LeaveNoTrace />
    </div>
  </main>
</Layout>

<style>
  @font-face {
    font-family: "EditorialSerif";
    src: local("Georgia"), local("Times New Roman"), serif;
  }
  .font-serif {
    font-family: "EditorialSerif", serif;
  }
</style>
