---
import EmailForm from "./EmailForm.vue";
---

<section class="relative w-full">
    <!-- Angled background section -->
    <div
        class="angled-section relative overflow-hidden bg-linear-to-br from-green-800 via-teal-800 to-teal-600 py-24 md:py-20"
    >
        <!-- Top accent line -->
        <div
            class="accent-line accent-line-top absolute inset-x-0 h-0.5 bg-linear-to-r from-transparent via-amber-400/70 to-transparent"
        >
        </div>
        <!-- Bottom accent line -->
        <div
            class="accent-line accent-line-bottom absolute inset-x-0 h-0.5 bg-linear-to-r from-transparent via-amber-400/70 to-transparent"
        >
        </div>

        <!-- Secondary decorative lines -->
        <div
            class="absolute inset-x-0 h-px bg-linear-to-r from-transparent via-white/20 to-transparent accent-line-top-secondary"
        >
        </div>
        <div
            class="absolute inset-x-0 h-px bg-linear-to-r from-transparent via-white/20 to-transparent accent-line-bottom-secondary"
        >
        </div>

        <!-- Content container -->
        <div class="relative z-10 mx-auto max-w-7xl px-6 lg:px-8">
            <div
                class="grid grid-cols-1 items-center gap-10 lg:grid-cols-12 lg:gap-8"
            >
                <!-- Text content slot -->
                <div class="max-w-xl lg:col-span-5">
                    <slot name="heading">
                        <h2
                            class="text-2xl font-bold tracking-tight text-white sm:text-4xl"
                        >
                            Stay Informed
                        </h2>
                    </slot>
                    <slot name="description">
                        <p class="mt-2 text-lg text-green-100/90">
                            Sign up for updates and events.
                        </p>
                    </slot>
                </div>

                <!-- Form container -->
                <div class="w-full lg:col-span-7">
                    <EmailForm client:idle />
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Clip-path for angled edges - not available in Tailwind */
    .angled-section {
        clip-path: polygon(0 8%, 100% 0, 100% 92%, 0 100%);
    }

    @media (min-width: 768px) {
        .angled-section {
            clip-path: polygon(0 15%, 100% 0, 100% 85%, 0 100%);
        }
    }

    /* Position accent lines along the angled edges */
    .accent-line-top {
        top: 8%;
        transform: rotate(-1.5deg);
    }

    .accent-line-bottom {
        bottom: 8%;
        transform: rotate(1.5deg);
    }

    .accent-line-top-secondary {
        top: calc(8% + 10px);
        transform: rotate(-1.5deg);
    }

    .accent-line-bottom-secondary {
        bottom: calc(8% + 10px);
        transform: rotate(1.5deg);
    }

    @media (min-width: 768px) {
        .accent-line-top {
            top: 15%;
            transform: rotate(-2.5deg);
        }

        .accent-line-bottom {
            bottom: 15%;
            transform: rotate(2.5deg);
        }

        .accent-line-top-secondary {
            top: calc(15% + 12px);
            transform: rotate(-2.5deg);
        }

        .accent-line-bottom-secondary {
            bottom: calc(15% + 12px);
            transform: rotate(2.5deg);
        }
    }

    /* Shimmer animation - keyframes not available in Tailwind */
    .accent-line {
        animation: shimmer 4s ease-in-out infinite;
    }

    .accent-line-bottom {
        animation-delay: 2s;
    }

    @keyframes shimmer {
        0%,
        100% {
            opacity: 0.5;
        }
        50% {
            opacity: 1;
        }
    }
</style>
